<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ğŸ’¨ Osuruk Chaos Of The Ozon TabakasÄ±</title>

<style>
:root{
  --blood:#8b0000;
  --purple:#4a0e4e;
  --dark-purple:#2d0a3d;
  --gold:#d4af37;
  --silver:#c0c0c0;
  --toxic:#39ff14;
  --bone:#e8e0d5;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Courier New',monospace;
  background:#0a0a0a;
  color:var(--bone);
  min-height:100vh;
  overflow-x:hidden;
  overflow-y:auto;
  position:relative;
}

/* ğŸŒ‘ GOTIK ARKAPLAN */
.background{
  position:fixed;
  inset:0;
  z-index:0;
  overflow:hidden;
}

.bg-gradient{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(139,0,0,0.15) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(74,14,78,0.2) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(45,10,61,0.15) 0%, transparent 70%),
    linear-gradient(180deg, #0a0a0a 0%, #1a0a1a 50%, #0a0a0a 100%);
  animation:darkPulse 10s ease infinite;
}

@keyframes darkPulse{
  0%,100%{filter:brightness(0.8) contrast(1.2)}
  50%{filter:brightness(1) contrast(1.3)}
}

/* ğŸ•¯ï¸ MUM IÅIKLARI */
.candles{
  position:absolute;
  inset:0;
}

.candle-light{
  position:absolute;
  width:100px;
  height:100px;
  border-radius:50%;
  background:radial-gradient(circle, rgba(212,175,55,0.3) 0%, transparent 70%);
  filter:blur(20px);
  animation:flicker var(--flicker-speed) ease-in-out infinite;
}

@keyframes flicker{
  0%,100%{opacity:0.6;transform:scale(1)}
  25%{opacity:0.4;transform:scale(0.95)}
  50%{opacity:0.7;transform:scale(1.05)}
  75%{opacity:0.5;transform:scale(0.98)}
}

/* ğŸ’€ KAFATASLAR */
.skulls{
  position:absolute;
  inset:0;
}

.skull{
  position:absolute;
  font-size:var(--size);
  opacity:0.08;
  animation:skullFloat var(--duration) ease-in-out infinite;
  filter:drop-shadow(0 0 10px rgba(139,0,0,0.5));
}

@keyframes skullFloat{
  0%,100%{transform:translateY(0) rotate(0deg)}
  50%{transform:translateY(-20px) rotate(10deg)}
}

/* â›“ï¸ ZÄ°NCÄ°RLER */
.chains{
  position:absolute;
  inset:0;
  background-image:
    linear-gradient(90deg, transparent 48%, rgba(192,192,192,0.05) 49%, rgba(192,192,192,0.05) 51%, transparent 52%),
    linear-gradient(0deg, transparent 48%, rgba(192,192,192,0.03) 49%, rgba(192,192,192,0.03) 51%, transparent 52%);
  background-size:100px 100px;
  animation:chainMove 20s linear infinite;
  opacity:0.3;
}

@keyframes chainMove{
  0%{background-position:0 0}
  100%{background-position:100px 100px}
}

/* ğŸŒ«ï¸ ZEHÄ°RLÄ° SÄ°S */
.toxic-fog{
  position:absolute;
  inset:0;
}

.fog-layer{
  position:absolute;
  width:200%;
  height:100%;
  background:
    radial-gradient(circle at 20% 50%, rgba(57,255,20,0.03) 0%, transparent 40%),
    radial-gradient(circle at 80% 50%, rgba(139,0,0,0.03) 0%, transparent 40%);
  animation:fogDrift var(--fog-speed) linear infinite;
}

@keyframes fogDrift{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}

/* ğŸ”’ GOTIK GÄ°RÄ°Å EKRANI */
#lock{
  position:fixed;
  inset:0;
  backdrop-filter:blur(20px);
  background:rgba(0,0,0,.95);
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:center;
  animation:fadeIn 0.5s;
}

@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}

.lock-box{
  background:linear-gradient(135deg,rgba(74,14,78,.4),rgba(45,10,61,.4));
  padding:40px;
  border-radius:20px;
  text-align:center;
  box-shadow:
    0 0 80px rgba(139,0,0,.8),
    0 0 120px rgba(74,14,78,.6),
    inset 0 0 60px rgba(212,175,55,.1),
    0 5px 15px rgba(0,0,0,.8);
  border:3px solid rgba(212,175,55,.3);
  animation:lockPulse 3s infinite;
  max-width:90%;
  width:380px;
  position:relative;
}

.lock-box::before{
  content:"ğŸ¦‡";
  position:absolute;
  top:-30px;
  left:50%;
  transform:translateX(-50%);
  font-size:40px;
  filter:drop-shadow(0 0 15px rgba(139,0,0,.8));
  animation:batFly 2s ease-in-out infinite;
}

@keyframes batFly{
  0%,100%{transform:translateX(-50%) translateY(0)}
  50%{transform:translateX(-50%) translateY(-10px)}
}

@keyframes lockPulse{
  0%,100%{
    box-shadow:0 0 80px rgba(139,0,0,.8),0 0 120px rgba(74,14,78,.6);
    transform:scale(1);
  }
  50%{
    box-shadow:0 0 100px rgba(139,0,0,1),0 0 150px rgba(74,14,78,.8);
    transform:scale(1.02);
  }
}

.lock-box h2{
  margin:0 0 20px;
  text-shadow:
    0 0 20px var(--blood),
    0 0 40px var(--purple),
    2px 2px 4px rgba(0,0,0,.8);
  font-size:28px;
  font-family:'Courier New',monospace;
  letter-spacing:2px;
  color:var(--bone);
}

.lock-box input{
  width:100%;
  padding:16px;
  border-radius:10px;
  border:3px solid rgba(212,175,55,.6);
  font-size:18px;
  text-align:center;
  margin-bottom:16px;
  background:rgba(10,10,10,.9);
  color:var(--bone);
  font-family:'Courier New',monospace;
  transition:all 0.3s;
  box-shadow:inset 0 2px 10px rgba(0,0,0,.8);
}

.lock-box input:focus{
  outline:none;
  border-color:var(--gold);
  box-shadow:
    0 0 30px rgba(212,175,55,.8),
    inset 0 2px 10px rgba(0,0,0,.8);
  transform:scale(1.02);
}

.lock-box button{
  width:100%;
  padding:16px;
  border:3px solid var(--gold);
  border-radius:10px;
  font-size:18px;
  font-weight:800;
  background:linear-gradient(135deg,rgba(139,0,0,.8),rgba(74,14,78,.8));
  color:var(--gold);
  cursor:pointer;
  transition:all 0.3s;
  font-family:'Courier New',monospace;
  letter-spacing:2px;
  box-shadow:
    0 0 20px rgba(139,0,0,.6),
    inset 0 0 20px rgba(212,175,55,.2);
}

.lock-box button:hover{
  transform:scale(1.05);
  box-shadow:
    0 0 40px rgba(139,0,0,.8),
    0 0 60px rgba(212,175,55,.6);
  background:linear-gradient(135deg,rgba(139,0,0,1),rgba(74,14,78,1));
}

.lock-error{
  color:var(--blood);
  margin-top:12px;
  min-height:24px;
  font-weight:700;
  font-size:15px;
  text-shadow:0 0 10px var(--blood);
}

@keyframes shake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-10px)}
  75%{transform:translateX(10px)}
}

/* ğŸŒŒ GOTIK PARTIKÃœLLER */
#particles{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:100;
}

.particle{
  position:absolute;
  font-size:var(--size);
  animation:drift var(--time) ease-out forwards;
  filter:drop-shadow(0 0 10px var(--particle-glow));
}

@keyframes drift{
  0%{
    transform:translate(0,0) rotate(0deg) scale(1);
    opacity:1;
  }
  100%{
    transform:translate(var(--x2),var(--y2)) rotate(var(--rot)) scale(0.5);
    opacity:0;
  }
}

/* ğŸ¯ MAIN CONTAINER */
.container{
  width:100%;
  max-width:500px;
  margin:0 auto;
  padding:20px;
  position:relative;
  z-index:10;
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* ğŸ“Š HEADER */
.header{
  text-align:center;
  margin-bottom:24px;
  padding-top:20px;
  position:relative;
}

.header::before,
.header::after{
  content:"ğŸ•¯ï¸";
  position:absolute;
  font-size:30px;
  top:0;
  filter:drop-shadow(0 0 15px rgba(212,175,55,.8));
  animation:candleFlicker 3s ease-in-out infinite;
}

.header::before{left:10px}
.header::after{right:10px}

@keyframes candleFlicker{
  0%,100%{opacity:0.7;transform:translateY(0)}
  50%{opacity:1;transform:translateY(-5px)}
}

h1{
  font-size:clamp(24px,7vw,36px);
  margin:0 0 12px;
  text-shadow:
    0 0 25px var(--blood),
    0 0 50px var(--purple),
    0 0 75px var(--toxic),
    3px 3px 6px rgba(0,0,0,.9);
  background:linear-gradient(45deg,var(--blood),var(--purple),var(--toxic),var(--gold));
  background-size:300% 300%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  animation:gothicGlow 6s ease infinite;
  line-height:1.3;
  font-family:'Courier New',monospace;
  letter-spacing:3px;
}

@keyframes gothicGlow{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}

#mesaj{
  min-height:32px;
  font-weight:700;
  color:var(--bone);
  font-size:clamp(14px,4vw,17px);
  text-shadow:
    0 2px 8px rgba(0,0,0,.9),
    0 0 15px var(--blood);
  margin-top:10px;
  font-family:'Courier New',monospace;
  letter-spacing:1px;
}

/* ğŸ“ˆ GOTIK OZON STATUS */
.ozon-status{
  background:linear-gradient(135deg,rgba(74,14,78,.2),rgba(45,10,61,.2));
  border-radius:20px;
  padding:20px;
  margin-bottom:24px;
  border:2px solid rgba(212,175,55,.3);
  text-align:center;
  backdrop-filter:blur(15px);
  box-shadow:
    0 8px 32px rgba(0,0,0,.5),
    inset 0 0 30px rgba(139,0,0,.15),
    0 0 40px rgba(74,14,78,.3);
  position:relative;
}

.ozon-status::before{
  content:"âš°ï¸";
  position:absolute;
  top:-15px;
  left:50%;
  transform:translateX(-50%);
  font-size:28px;
  filter:drop-shadow(0 0 10px rgba(139,0,0,.8));
}

.ozon-status-title{
  font-size:clamp(13px,3.5vw,15px);
  margin-bottom:12px;
  font-weight:700;
  letter-spacing:1px;
  color:var(--bone);
  text-shadow:0 0 10px var(--blood);
}

.ozon-bar{
  height:16px;
  background:rgba(0,0,0,.7);
  border-radius:20px;
  overflow:hidden;
  margin:12px 0;
  border:2px solid rgba(139,0,0,.4);
  box-shadow:
    inset 0 2px 10px rgba(0,0,0,.8),
    0 0 20px rgba(139,0,0,.3);
}

.ozon-fill{
  height:100%;
  background:linear-gradient(90deg,var(--toxic),#39ff14);
  border-radius:20px;
  transition:width 0.6s cubic-bezier(0.4,0,0.2,1),
             background 0.6s;
  box-shadow:0 0 20px var(--fill-glow);
  animation:toxicPulse 2s ease-in-out infinite;
}

@keyframes toxicPulse{
  0%,100%{filter:brightness(1);box-shadow:0 0 20px var(--fill-glow)}
  50%{filter:brightness(1.3);box-shadow:0 0 30px var(--fill-glow)}
}

.ozon-level{
  font-weight:900;
  font-size:clamp(13px,3.5vw,16px);
  color:var(--toxic);
  text-shadow:0 0 15px var(--level-glow);
  margin-top:8px;
  letter-spacing:2px;
  font-family:'Courier New',monospace;
}

/* ğŸ´ GOTIK KARTLAR */
.arena{
  display:flex;
  flex-direction:column;
  gap:20px;
  padding-bottom:30px;
}

.kart{
  background:linear-gradient(135deg,rgba(74,14,78,.25),rgba(45,10,61,.25));
  border-radius:20px;
  padding:24px;
  text-align:center;
  backdrop-filter:blur(15px);
  box-shadow:
    0 10px 40px rgba(0,0,0,.6),
    inset 0 0 40px rgba(139,0,0,.1),
    0 0 30px rgba(74,14,78,.3);
  border:2px solid rgba(192,192,192,.2);
  position:relative;
  transition:all 0.4s cubic-bezier(0.4,0,0.2,1);
}

.kart::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:20px;
  background:
    linear-gradient(45deg,transparent 48%,rgba(212,175,55,.1) 50%,transparent 52%),
    linear-gradient(-45deg,transparent 48%,rgba(212,175,55,.1) 50%,transparent 52%);
  background-size:20px 20px;
  opacity:0.3;
  pointer-events:none;
}

.kart:hover{
  transform:translateY(-8px) scale(1.02);
  box-shadow:
    0 15px 50px rgba(0,0,0,.8),
    inset 0 0 50px rgba(139,0,0,.2),
    0 0 60px rgba(139,0,0,.4);
  border-color:rgba(212,175,55,.4);
}

.kart.winner{
  border-color:var(--gold);
  box-shadow:
    0 0 60px var(--gold),
    0 0 100px rgba(212,175,55,.6),
    inset 0 0 40px rgba(212,175,55,.2);
  animation:winnerGlow 2s infinite;
}

@keyframes winnerGlow{
  0%,100%{
    box-shadow:0 0 60px var(--gold);
    filter:brightness(1);
  }
  50%{
    box-shadow:0 0 80px var(--gold),0 0 120px rgba(212,175,55,.8);
    filter:brightness(1.1);
  }
}

.kart h3{
  margin:0 0 16px;
  font-size:clamp(18px,5vw,22px);
  text-shadow:
    0 2px 10px rgba(0,0,0,.8),
    0 0 20px var(--blood);
  font-family:'Courier New',monospace;
  letter-spacing:2px;
  color:var(--bone);
}

.sayac{
  font-size:clamp(42px,12vw,56px);
  font-weight:900;
  background:linear-gradient(45deg,var(--bone),var(--gold),var(--blood));
  background-size:200% 200%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  display:inline-block;
  margin-left:10px;
  animation:scoreGlow 4s ease infinite;
  filter:drop-shadow(0 0 20px rgba(212,175,55,.6));
}

@keyframes scoreGlow{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}

.buttons{
  display:flex;
  gap:10px;
  margin-top:16px;
}

button{
  flex:1;
  padding:16px;
  border:none;
  border-radius:10px;
  font-size:clamp(14px,4vw,17px);
  font-weight:800;
  cursor:pointer;
  transition:all 0.3s;
  position:relative;
  overflow:hidden;
  font-family:'Courier New',monospace;
  letter-spacing:1px;
}

button::before{
  content:"";
  position:absolute;
  top:50%;
  left:50%;
  width:0;
  height:0;
  border-radius:50%;
  background:rgba(139,0,0,.4);
  transform:translate(-50%,-50%);
  transition:width 0.6s,height 0.6s;
}

button:active::before{
  width:400px;
  height:400px;
}

.btn-osur{
  background:linear-gradient(135deg,rgba(139,0,0,.9),rgba(74,14,78,.9));
  color:var(--gold);
  border:2px solid var(--gold);
  box-shadow:
    0 6px 20px rgba(139,0,0,.6),
    inset 0 0 20px rgba(212,175,55,.2);
}

.btn-osur:hover{
  transform:scale(1.05) translateY(-2px);
  box-shadow:
    0 8px 30px rgba(139,0,0,.8),
    0 0 40px rgba(212,175,55,.6);
  background:linear-gradient(135deg,rgba(139,0,0,1),rgba(74,14,78,1));
}

.btn-osur:active{
  transform:scale(0.95);
}

.btn-reset{
  background:rgba(0,0,0,.8);
  color:var(--silver);
  border:2px solid rgba(192,192,192,.4);
  font-size:clamp(13px,3.5vw,15px);
  flex:0.6;
  box-shadow:
    0 4px 15px rgba(0,0,0,.5),
    inset 0 0 10px rgba(139,0,0,.2);
}

.btn-reset:hover{
  background:rgba(0,0,0,.9);
  border-color:var(--silver);
  transform:scale(1.05) translateY(-2px);
  box-shadow:
    0 6px 20px rgba(0,0,0,.7),
    0 0 30px rgba(192,192,192,.4);
}

/* ğŸ† GOTIK GIF EXPLOSION */
.gif-explosion{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  z-index:20;
  border-radius:20px;
}

.gif-explosion.active{
  display:flex;
  animation:darkExplode 0.8s cubic-bezier(0.4,0,0.2,1);
}

@keyframes darkExplode{
  0%{
    transform:scale(0);
    opacity:0;
    filter:blur(10px) brightness(0.5);
  }
  50%{
    transform:scale(1.3);
    opacity:1;
    filter:blur(0) brightness(1.2);
  }
  100%{
    transform:scale(1);
    opacity:0;
    filter:blur(5px) brightness(0.8);
  }
}

.gif-explosion img{
  width:clamp(100px,30vw,140px);
  filter:drop-shadow(0 0 40px var(--blood));
}

/* ğŸ† GOTIK TAÃ‡C */
.crown{
  position:absolute;
  top:-16px;
  right:-16px;
  font-size:clamp(32px,10vw,44px);
  animation:crownFloat 2s ease-in-out infinite;
  filter:drop-shadow(0 0 20px var(--gold));
  z-index:30;
}

@keyframes crownFloat{
  0%,100%{
    transform:translateY(0) rotate(-15deg);
    filter:drop-shadow(0 0 20px var(--gold));
  }
  50%{
    transform:translateY(-15px) rotate(15deg);
    filter:drop-shadow(0 0 30px var(--gold));
  }
}

/* ğŸ“± MOBÄ°LE */
@media(max-width:480px){
  .container{padding:15px}
  .header{margin-bottom:20px;padding-top:15px}
  .ozon-status{padding:16px;margin-bottom:20px}
  .kart{padding:20px}
  .arena{gap:16px;padding-bottom:25px}
  button{padding:14px}
  .lock-box{padding:30px}
  .header::before,.header::after{font-size:24px}
}

@media(max-height:700px){
  .container{padding:15px}
  .header{margin-bottom:16px;padding-top:10px}
  .ozon-status{padding:14px;margin-bottom:16px}
  .kart{padding:18px}
  .arena{gap:14px}
}
</style>

<!-- ğŸ”¥ Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyCcV5kMrjsgJJS3Cod4P-dNMId1-ToDn-4",
  authDomain:"osuruk-b2ac8.firebaseapp.com",
  databaseURL:"https://osuruk-b2ac8-default-rtdb.firebaseio.com",
  projectId:"osuruk-b2ac8"
});
const db=firebase.database();
</script>
</head>

<body>

<!-- ğŸŒ‘ GOTIK ARKAPLAN -->
<div class="background">
  <div class="bg-gradient"></div>
  <div class="chains"></div>
  
  <div class="candles" id="candles"></div>
  <div class="skulls" id="skulls"></div>
  <div class="toxic-fog" id="toxicFog"></div>
</div>

<!-- ğŸ”’ GÄ°RÄ°Å -->
<div id="lock">
  <div class="lock-box">
    <h2>ğŸ” Ã–zel Alan</h2>
    <input id="pass" type="password" placeholder="Åifre giriniz" onkeypress="if(event.key==='Enter')kontrol()">
    <button onclick="kontrol()">GÄ°RÄ°Å YAP</button>
    <div class="lock-error" id="lockErr"></div>
  </div>
</div>

<div id="particles"></div>

<div class="container">
  <div class="header">
    <h1>ğŸ’¨ Osuruk Chaos<br>Of The Ozon TabakasÄ±</h1>
    <div id="mesaj">HazÄ±r mÄ±sÄ±nÄ±z?</div>
  </div>

  <div class="ozon-status">
    <div class="ozon-status-title">ğŸŒ <strong>Ozon Krizi Seviyesi</strong></div>
    <div class="ozon-bar">
      <div class="ozon-fill" id="ozonFill"></div>
    </div>
    <div class="ozon-level" id="ozonLevel">GÃœVEN BÃ–LGESÄ°</div>
  </div>

  <div class="arena">
    <div class="kart" id="kartSol">
      <h3>ğŸ‘¼ TanrÄ±Ã§a</h3>
      ğŸ’¨ <span id="sol" class="sayac">0</span>
      <div class="buttons">
        <button class="btn-osur" onclick="arttirSol()">OSURDUM</button>
        <button class="btn-reset" onclick="resetSol()">â†»</button>
      </div>
      <div class="gif-explosion" id="gifSol">
        <img src="https://media.tenor.com/5Rec-GpCWS8AAAAi/fart-cloud.gif" alt="fart">
      </div>
    </div>

    <div class="kart" id="kartSag">
      <h3>â˜¢ï¸ AyaklÄ± Ã‡ernobil</h3>
      ğŸ’¨ <span id="sag" class="sayac">0</span>
      <div class="buttons">
        <button class="btn-osur" onclick="arttirSag()">OSURDUM</button>
        <button class="btn-reset" onclick="resetSag()">â†»</button>
      </div>
      <div class="gif-explosion" id="gifSag">
        <img src="https://media.tenor.com/5Rec-GpCWS8AAAAi/fart-cloud.gif" alt="fart">
      </div>
    </div>
  </div>
</div>

<!-- ğŸµ SES -->
<audio id="osurukSes1" src="https://www.myinstants.com/media/sounds/fart-with-reverb.mp3"></audio>
<audio id="osurukSes2" src="https://www.myinstants.com/media/sounds/wet-fart.mp3"></audio>
<audio id="osurukSes3" src="https://cdn.freesound.org/previews/441/441000_7037-lq.mp3"></audio>

<script>
/* ğŸ•¯ï¸ MUM IÅIKLARI */
function createCandles(){
  const container=document.getElementById("candles");
  const positions=[
    {left:"5%",top:"10%"},{right:"8%",top:"15%"},
    {left:"10%",bottom:"20%"},{right:"5%",bottom:"25%"},
    {left:"50%",top:"5%"}
  ];
  
  positions.forEach((pos,i)=>{
    const light=document.createElement("div");
    light.className="candle-light";
    Object.assign(light.style,pos);
    light.style.setProperty("--flicker-speed",(2+Math.random()*2)+"s");
    light.style.animationDelay=Math.random()*2+"s";
    container.appendChild(light);
  });
}

/* ğŸ’€ KAFATASLAR */
function createSkulls(){
  const container=document.getElementById("skulls");
  const skullEmojis=["ğŸ’€","â˜ ï¸"];
  
  for(let i=0;i<15;i++){
    const skull=document.createElement("div");
    skull.className="skull";
    skull.innerText=skullEmojis[Math.floor(Math.random()*skullEmojis.length)];
    skull.style.left=Math.random()*100+"%";
    skull.style.top=Math.random()*100+"%";
    skull.style.setProperty("--size",Math.random()*60+40+"px");
    skull.style.setProperty("--duration",Math.random()*6+8+"s");
    skull.style.animationDelay=Math.random()*4+"s";
    container.appendChild(skull);
  }
}

/* ğŸŒ«ï¸ ZEHÄ°RLÄ° SÄ°S */
function createToxicFog(){
  const container=document.getElementById("toxicFog");
  for(let i=0;i<3;i++){
    const fog=document.createElement("div");
    fog.className="fog-layer";
    fog.style.setProperty("--fog-speed",(30+i*15)+"s");
    fog.style.animationDelay=i*10+"s";
    fog.style.opacity=0.15-i*0.03;
    container.appendChild(fog);
  }
}

/* ğŸ” ÅÄ°FRE */
function kontrol(){
  const input=document.getElementById("pass");
  if(input.value==="123"){
    document.getElementById("lock").style.display="none";
    spawnChaos(50);
  }else{
    const err=document.getElementById("lockErr");
    err.innerText="âŒ YanlÄ±ÅŸ ÅŸifre";
    input.value="";
    input.style.animation="shake 0.5s";
    setTimeout(()=>input.style.animation="",500);
  }
}

/* ğŸµ SES */
function playSes(){
  const sesler=[
    document.getElementById("osurukSes1"),
    document.getElementById("osurukSes2"),
    document.getElementById("osurukSes3")
  ];
  const ses=sesler[Math.floor(Math.random()*sesler.length)];
  ses.currentTime=0;
  ses.volume=0.4;
  ses.play().catch(()=>{});
}

/* ğŸŒŒ GOTIK PARTIKÃœLLER */
const emojis=["ğŸ’¨","ğŸ’©","â˜¢ï¸","ğŸ‘¼","â­","ğŸ˜ˆ","ğŸ’€","ğŸŒªï¸","â˜ï¸","ğŸ’«","âœ¨","ğŸ¦‡","âš°ï¸","ğŸ•·ï¸","ğŸ•¸ï¸"];
const box=document.getElementById("particles");

function spawnChaos(n=30){
  for(let i=0;i<n;i++){
    const p=document.createElement("div");
    p.className="particle";
    p.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    
    const startX=Math.random()*100;
    const startY=Math.random()*100;
    p.style.left=startX+"vw";
    p.style.top=startY+"vh";
    
    const size=Math.random()*35+25;
    p.style.setProperty("--size",size+"px");
    p.style.setProperty("--time",(2.5+Math.random()*4)+"s");
    p.style.setProperty("--x2",(Math.random()*500-250)+"px");
    p.style.setProperty("--y2",(-250-Math.random()*350)+"px");
    p.style.setProperty("--rot",(Math.random()*1080-540)+"deg");
    
    const glowColors=["rgba(139,0,0,0.8)","rgba(74,14,78,0.8)","rgba(57,255,20,0.6)","rgba(212,175,55,0.7)"];
    p.style.setProperty("--particle-glow",glowColors[Math.floor(Math.random()*glowColors.length)]);
    
    box.appendChild(p);
    setTimeout(()=>p.remove(),7000);
  }
}

/* ğŸ† GIF */
function showGif(id){
  const gif=document.getElementById(id);
  gif.classList.add("active");
  setTimeout(()=>gif.classList.remove("active"),800);
}

/* ğŸ“Š OZON */
function updateOzon(total){
  const fill=document.getElementById("ozonFill");
  const level=document.getElementById("ozonLevel");
  
  const percent=Math.min(total*1.5,100);
  fill.style.width=percent+"%";
  
  if(total<10){
    level.innerText="GÃœVEN BÃ–LGESÄ°";
    level.style.color="var(--toxic)";
    level.style.setProperty("--level-glow","var(--toxic)");
    fill.style.background="linear-gradient(90deg,var(--toxic),#39ff14)";
    fill.style.setProperty("--fill-glow","var(--toxic)");
  }else if(total<25){
    level.innerText="âš ï¸ ARTIÅTA";
    level.style.color="var(--gold)";
    level.style.setProperty("--level-glow","var(--gold)");
    fill.style.background="linear-gradient(90deg,var(--toxic),var(--gold))";
    fill.style.setProperty("--fill-glow","var(--gold)");
  }else if(total<50){
    level.innerText="ğŸ”¥ KRÄ°TÄ°K SEVÄ°YE";
    level.style.color="var(--blood)";
    level.style.setProperty("--level-glow","var(--blood)");
    fill.style.background="linear-gradient(90deg,var(--gold),var(--blood))";
    fill.style.setProperty("--fill-glow","var(--blood)");
  }else{
    level.innerText="ğŸ’€ OZON YIKIMI";
    level.style.color="var(--purple)";
    level.style.setProperty("--level-glow","var(--purple)");
    fill.style.background="linear-gradient(90deg,var(--blood),var(--purple),var(--dark-purple))";
    fill.style.setProperty("--fill-glow","var(--purple)");
  }
}

/* ğŸ† LÄ°DER */
function updateLeader(solVal,sagVal){
  const kartSol=document.getElementById("kartSol");
  const kartSag=document.getElementById("kartSag");
  
  kartSol.classList.remove("winner");
  kartSag.classList.remove("winner");
  
  const crownSol=kartSol.querySelector(".crown");
  const crownSag=kartSag.querySelector(".crown");
  if(crownSol)crownSol.remove();
  if(crownSag)crownSag.remove();
  
  if(solVal>sagVal&&solVal>0){
    kartSol.classList.add("winner");
    const crown=document.createElement("div");
    crown.className="crown";
    crown.innerText="ğŸ‘‘";
    kartSol.appendChild(crown);
  }else if(sagVal>solVal&&sagVal>0){
    kartSag.classList.add("winner");
    const crown=document.createElement("div");
    crown.className="crown";
    crown.innerText="ğŸ‘‘";
    kartSag.appendChild(crown);
  }
}

/* ğŸ’¬ MESAJLAR */
const mesajlar={
  basla:["HazÄ±r mÄ±sÄ±nÄ±z?","Oyun baÅŸlasÄ±n!","Kim kazanacak?","Hadi bakalÄ±m!"],
  dusuk:["HenÃ¼z tehlike yok","Ozon tabakasÄ± gÃ¼vende","Ä°yi gidiyorsunuz","Devam edin!"],
  orta:["âš ï¸ Dikkat!","Ozon tabakasÄ± incelmeye baÅŸladÄ±","HÄ±z kesmeyin!","Tehlike yaklaÅŸÄ±yor!"],
  yuksek:["ğŸ”¥ Rekor geliyor!","Atmosfer yangÄ±n yeri!","DÃ¼nya tehlikede!","Kaos baÅŸladÄ±!"],
  cok:["ğŸ’€ Apocalypse!","Ozon tabakasÄ± yok oldu!","Cehennem kapÄ±larÄ± aÃ§Ä±ldÄ±!","DÃ¼nya sonu!"]
};

function updateMesaj(total){
  const mesaj=document.getElementById("mesaj");
  let liste;
  
  if(total===0)liste=mesajlar.basla;
  else if(total<15)liste=mesajlar.dusuk;
  else if(total<30)liste=mesajlar.orta;
  else if(total<50)liste=mesajlar.yuksek;
  else liste=mesajlar.cok;
  
  mesaj.innerText=liste[Math.floor(Math.random()*liste.length)];
}

/* ğŸ”¥ FÄ°REBASE */
let solVal=0,sagVal=0;

db.ref().on("value",snapshot=>{
  if(!snapshot.val())return;
  
  solVal=snapshot.val().sol||0;
  sagVal=snapshot.val().sag||0;
  
  document.getElementById("sol").innerText=solVal;
  document.getElementById("sag").innerText=sagVal;
  
  const total=solVal+sagVal;
  updateOzon(total);
  updateMesaj(total);
  updateLeader(solVal,sagVal);
});

/* ğŸ® OYUN */
function arttirSol(){
  db.ref("sol").transaction(v=>(v||0)+1);
  playSes();
  showGif("gifSol");
  spawnChaos(35);
}

function arttirSag(){
  db.ref("sag").transaction(v=>(v||0)+1);
  playSes();
  showGif("gifSag");
  spawnChaos(35);
}

function resetSol(){
  if(confirm("TanrÄ±Ã§a'nÄ±n skorunu sÄ±fÄ±rlamak istediÄŸinden emin misin?")){
    db.ref("sol").set(0);
  }
}

function resetSag(){
  if(confirm("AyaklÄ± Ã‡ernobil'in skorunu sÄ±fÄ±rlamak istediÄŸinden emin misin?")){
    db.ref("sag").set(0);
  }
}

/* ğŸ¬ BAÅLANGIÃ‡ */
createCandles();
createSkulls();
createToxicFog();
spawnChaos(40);
updateMesaj(0);

/* ğŸ¹ KLAVYE */
document.addEventListener("keydown",e=>{
  if(document.getElementById("lock").style.display!=="none")return;
  
  if(e.key==="ArrowLeft"||e.key==="a"||e.key==="A"){
    arttirSol();
  }else if(e.key==="ArrowRight"||e.key==="d"||e.key==="D"){
    arttirSag();
  }
});
</script>

</body>
</html>
