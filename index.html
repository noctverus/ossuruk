<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ğŸ’¨ Osuruk Chaos Of The Ozon TabakasÄ±</title>

<style>
:root{
  --pink:#ff6ec7;
  --purple:#b066ff;
  --green:#00ff88;
  --yellow:#ffeb3b;
  --orange:#ff9800;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Segoe UI',system-ui,Arial;
  background:#1a0b2e;
  color:#fff;
  min-height:100vh;
  overflow-x:hidden;
  overflow-y:auto;
  position:relative;
}

/* ğŸŒˆ CANLI ANIMASYONLU ARKAPLAN */
.background{
  position:fixed;
  inset:0;
  z-index:0;
  overflow:hidden;
}

.bg-gradient{
  position:absolute;
  inset:0;
  background:radial-gradient(circle at 20% 50%, rgba(255,110,199,0.15) 0%, transparent 50%),
             radial-gradient(circle at 80% 80%, rgba(176,102,255,0.15) 0%, transparent 50%),
             radial-gradient(circle at 40% 20%, rgba(0,255,136,0.1) 0%, transparent 50%),
             linear-gradient(135deg, #2b1055 0%, #120018 100%);
  animation:bgShift 15s ease infinite;
}

@keyframes bgShift{
  0%,100%{filter:hue-rotate(0deg)}
  50%{filter:hue-rotate(30deg)}
}

/* âœ¨ YILDIZLAR */
.stars{
  position:absolute;
  inset:0;
}

.star{
  position:absolute;
  background:#fff;
  border-radius:50%;
  animation:twinkle var(--duration) ease-in-out infinite;
}

@keyframes twinkle{
  0%,100%{opacity:0.3;transform:scale(1)}
  50%{opacity:1;transform:scale(1.2)}
}

/* ğŸŒŠ DALGALAR */
.waves{
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  height:200px;
  overflow:hidden;
}

.wave{
  position:absolute;
  bottom:0;
  left:0;
  width:200%;
  height:100%;
  background-repeat:repeat-x;
  animation:wave-anim 15s linear infinite;
}

.wave1{
  background:linear-gradient(90deg,transparent,rgba(255,110,199,0.2),transparent);
  animation-duration:10s;
  opacity:0.4;
}

.wave2{
  background:linear-gradient(90deg,transparent,rgba(176,102,255,0.2),transparent);
  animation-duration:15s;
  opacity:0.3;
}

.wave3{
  background:linear-gradient(90deg,transparent,rgba(0,255,136,0.1),transparent);
  animation-duration:20s;
  opacity:0.2;
}

@keyframes wave-anim{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}

/* ğŸ’¨ FLOATING EMOJIS */
.floating-emojis{
  position:absolute;
  inset:0;
  pointer-events:none;
}

.float-emoji{
  position:absolute;
  font-size:var(--size);
  opacity:0.3;
  animation:float var(--duration) ease-in-out infinite;
  filter:drop-shadow(0 0 10px var(--glow));
}

@keyframes float{
  0%,100%{transform:translateY(0) rotate(0deg)}
  50%{transform:translateY(-30px) rotate(180deg)}
}

/* ğŸ”’ GÄ°RÄ°Å EKRANI */
#lock{
  position:fixed;
  inset:0;
  backdrop-filter:blur(20px);
  background:rgba(0,0,0,.8);
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:center;
  animation:fadeIn 0.5s;
}

@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}

.lock-box{
  background:linear-gradient(135deg,rgba(255,110,199,.25),rgba(176,102,255,.25));
  padding:40px;
  border-radius:30px;
  text-align:center;
  box-shadow:0 0 80px rgba(255,110,199,.8),
             0 0 120px rgba(176,102,255,.6),
             inset 0 0 60px rgba(255,255,255,.15);
  border:3px solid rgba(255,255,255,.3);
  animation:lockPulse 3s infinite;
  max-width:90%;
  width:360px;
}

@keyframes lockPulse{
  0%,100%{
    box-shadow:0 0 80px rgba(255,110,199,.8),0 0 120px rgba(176,102,255,.6);
    transform:scale(1);
  }
  50%{
    box-shadow:0 0 100px rgba(255,110,199,1),0 0 150px rgba(176,102,255,.8);
    transform:scale(1.02);
  }
}

.lock-box h2{
  margin:0 0 20px;
  text-shadow:0 0 20px var(--pink),0 0 40px var(--purple);
  font-size:28px;
}

.lock-box input{
  width:100%;
  padding:16px;
  border-radius:30px;
  border:3px solid rgba(255,110,199,.6);
  font-size:18px;
  text-align:center;
  margin-bottom:16px;
  background:rgba(255,255,255,.95);
  transition:all 0.3s;
}

.lock-box input:focus{
  outline:none;
  border-color:var(--pink);
  box-shadow:0 0 30px rgba(255,110,199,.8);
  transform:scale(1.02);
}

.lock-box button{
  width:100%;
  padding:16px;
  border:none;
  border-radius:30px;
  font-size:18px;
  font-weight:800;
  background:linear-gradient(45deg,#ff6ec7,#ffa6e7,#ff6ec7);
  background-size:200% 100%;
  color:#2b0033;
  cursor:pointer;
  transition:all 0.3s;
  animation:gradientShift 3s ease infinite;
}

@keyframes gradientShift{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}

.lock-box button:hover{
  transform:scale(1.05);
  box-shadow:0 0 30px rgba(255,110,199,.8);
}

.lock-error{
  color:#ff9db5;
  margin-top:12px;
  min-height:24px;
  font-weight:700;
  font-size:15px;
}

@keyframes shake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-10px)}
  75%{transform:translateX(10px)}
}

/* ğŸŒŒ PARTIKÃœLLER */
#particles{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:100;
}

.particle{
  position:absolute;
  font-size:var(--size);
  animation:drift var(--time) ease-out forwards;
  filter:drop-shadow(0 0 10px var(--particle-glow));
}

@keyframes drift{
  0%{
    transform:translate(0,0) rotate(0deg) scale(1);
    opacity:1;
  }
  100%{
    transform:translate(var(--x2),var(--y2)) rotate(var(--rot)) scale(0.5);
    opacity:0;
  }
}

/* ğŸ¯ MAIN CONTAINER */
.container{
  width:100%;
  max-width:480px;
  margin:0 auto;
  padding:20px;
  position:relative;
  z-index:10;
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* ğŸ“Š HEADER */
.header{
  text-align:center;
  margin-bottom:24px;
  padding-top:20px;
}

h1{
  font-size:clamp(24px,7vw,36px);
  margin:0 0 12px;
  text-shadow:0 0 25px var(--pink),
             0 0 50px var(--purple),
             0 0 75px var(--green);
  background:linear-gradient(45deg,var(--pink),var(--purple),var(--green),var(--yellow));
  background-size:300% 300%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  animation:rainbowGlow 4s ease infinite;
  line-height:1.3;
}

@keyframes rainbowGlow{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}

#mesaj{
  min-height:32px;
  font-weight:700;
  color:#ffb3c1;
  font-size:clamp(14px,4vw,17px);
  text-shadow:0 2px 8px rgba(0,0,0,.7),0 0 15px var(--pink);
  margin-top:10px;
}

/* ğŸ“ˆ OZON STATUS */
.ozon-status{
  background:linear-gradient(135deg,rgba(255,110,199,.12),rgba(176,102,255,.12));
  border-radius:24px;
  padding:20px;
  margin-bottom:24px;
  border:2px solid rgba(255,110,199,.4);
  text-align:center;
  backdrop-filter:blur(15px);
  box-shadow:0 8px 32px rgba(0,0,0,.3),
             inset 0 0 30px rgba(255,255,255,.1);
}

.ozon-status-title{
  font-size:clamp(13px,3.5vw,15px);
  margin-bottom:12px;
  font-weight:700;
}

.ozon-bar{
  height:14px;
  background:rgba(0,0,0,.4);
  border-radius:20px;
  overflow:hidden;
  margin:12px 0;
  border:2px solid rgba(255,255,255,.2);
  box-shadow:inset 0 2px 8px rgba(0,0,0,.5);
}

.ozon-fill{
  height:100%;
  background:linear-gradient(90deg,var(--green),#00ff88);
  border-radius:20px;
  transition:width 0.6s cubic-bezier(0.4,0,0.2,1),
             background 0.6s;
  box-shadow:0 0 15px var(--fill-glow);
  animation:pulse 2s ease-in-out infinite;
}

@keyframes pulse{
  0%,100%{filter:brightness(1)}
  50%{filter:brightness(1.2)}
}

.ozon-level{
  font-weight:900;
  font-size:clamp(13px,3.5vw,16px);
  color:var(--green);
  text-shadow:0 0 12px var(--level-glow);
  margin-top:8px;
  letter-spacing:1px;
}

/* ğŸ´ KARTLAR */
.arena{
  display:flex;
  flex-direction:column;
  gap:20px;
  padding-bottom:30px;
}

.kart{
  background:linear-gradient(135deg,rgba(255,110,199,.18),rgba(176,102,255,.18));
  border-radius:28px;
  padding:24px;
  text-align:center;
  backdrop-filter:blur(15px);
  box-shadow:0 10px 40px rgba(255,105,180,.3),
             inset 0 0 40px rgba(255,255,255,.12);
  border:2px solid rgba(255,255,255,.2);
  position:relative;
  transition:all 0.4s cubic-bezier(0.4,0,0.2,1);
}

.kart:hover{
  transform:translateY(-6px);
  box-shadow:0 15px 50px rgba(255,105,180,.5),
             inset 0 0 50px rgba(255,255,255,.18);
}

.kart.winner{
  border-color:var(--green);
  box-shadow:0 0 50px var(--green),
             0 0 80px rgba(0,255,136,.4);
  animation:winnerGlow 2s infinite;
}

@keyframes winnerGlow{
  0%,100%{box-shadow:0 0 50px var(--green)}
  50%{box-shadow:0 0 70px var(--green),0 0 100px rgba(0,255,136,.6)}
}

.kart h3{
  margin:0 0 16px;
  font-size:clamp(18px,5vw,22px);
  text-shadow:0 2px 10px rgba(0,0,0,.6);
}

.sayac{
  font-size:clamp(42px,12vw,56px);
  font-weight:900;
  background:linear-gradient(45deg,#fff,var(--pink),var(--purple));
  background-size:200% 200%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  display:inline-block;
  margin-left:10px;
  animation:scoreGlow 3s ease infinite;
}

@keyframes scoreGlow{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}

.buttons{
  display:flex;
  gap:10px;
  margin-top:16px;
}

button{
  flex:1;
  padding:16px;
  border:none;
  border-radius:50px;
  font-size:clamp(14px,4vw,17px);
  font-weight:800;
  cursor:pointer;
  transition:all 0.3s;
  position:relative;
  overflow:hidden;
}

button::before{
  content:"";
  position:absolute;
  top:50%;
  left:50%;
  width:0;
  height:0;
  border-radius:50%;
  background:rgba(255,255,255,.5);
  transform:translate(-50%,-50%);
  transition:width 0.6s,height 0.6s;
}

button:active::before{
  width:400px;
  height:400px;
}

.btn-osur{
  background:linear-gradient(45deg,#ff6ec7,#ffa6e7,#ff6ec7);
  background-size:200% 100%;
  color:#2b0033;
  box-shadow:0 6px 20px rgba(255,110,199,.5);
  animation:btnGradient 3s ease infinite;
}

@keyframes btnGradient{
  0%,100%{background-position:0% 50%}
  50%{background-position:100% 50%}
}

.btn-osur:hover{
  transform:scale(1.05) translateY(-2px);
  box-shadow:0 8px 25px rgba(255,110,199,.7);
}

.btn-osur:active{
  transform:scale(0.95);
}

.btn-reset{
  background:rgba(255,255,255,.15);
  color:#fff;
  border:2px solid rgba(255,255,255,.4);
  font-size:clamp(13px,3.5vw,15px);
  flex:0.6;
  box-shadow:0 4px 15px rgba(0,0,0,.3);
}

.btn-reset:hover{
  background:rgba(255,255,255,.25);
  transform:scale(1.05) translateY(-2px);
  box-shadow:0 6px 20px rgba(255,255,255,.3);
}

/* ğŸ† GIF EXPLOSION */
.gif-explosion{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  z-index:20;
  border-radius:28px;
}

.gif-explosion.active{
  display:flex;
  animation:explode 0.8s cubic-bezier(0.4,0,0.2,1);
}

@keyframes explode{
  0%{
    transform:scale(0);
    opacity:0;
    filter:blur(10px);
  }
  50%{
    transform:scale(1.3);
    opacity:1;
    filter:blur(0);
  }
  100%{
    transform:scale(1);
    opacity:0;
    filter:blur(5px);
  }
}

.gif-explosion img{
  width:clamp(100px,30vw,140px);
  filter:drop-shadow(0 0 30px var(--pink));
}

/* ğŸ† LIDER ROZETI */
.crown{
  position:absolute;
  top:-16px;
  right:-16px;
  font-size:clamp(32px,10vw,44px);
  animation:crownBounce 1.5s ease-in-out infinite;
  filter:drop-shadow(0 0 15px gold);
  z-index:30;
}

@keyframes crownBounce{
  0%,100%{transform:translateY(0) rotate(-10deg)}
  50%{transform:translateY(-15px) rotate(10deg)}
}

/* ğŸ“± MOBÄ°LE OPTÄ°MÄ°ZASYON */
@media(max-width:480px){
  .container{padding:15px}
  .header{margin-bottom:20px;padding-top:15px}
  .ozon-status{padding:16px;margin-bottom:20px}
  .kart{padding:20px}
  .arena{gap:16px;padding-bottom:25px}
  button{padding:14px}
  .lock-box{padding:30px}
}

@media(max-height:700px){
  .container{padding:15px}
  .header{margin-bottom:16px;padding-top:10px}
  .ozon-status{padding:14px;margin-bottom:16px}
  .kart{padding:18px}
  .arena{gap:14px}
}
</style>

<!-- ğŸ”¥ Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyCcV5kMrjsgJJS3Cod4P-dNMId1-ToDn-4",
  authDomain:"osuruk-b2ac8.firebaseapp.com",
  databaseURL:"https://osuruk-b2ac8-default-rtdb.firebaseio.com",
  projectId:"osuruk-b2ac8"
});
const db=firebase.database();
</script>
</head>

<body>

<!-- ğŸŒˆ CANLI ARKAPLAN -->
<div class="background">
  <div class="bg-gradient"></div>
  
  <div class="stars" id="stars"></div>
  
  <div class="waves">
    <div class="wave wave1"></div>
    <div class="wave wave2"></div>
    <div class="wave wave3"></div>
  </div>
  
  <div class="floating-emojis" id="floatingEmojis"></div>
</div>

<!-- ğŸ”’ GÄ°RÄ°Å -->
<div id="lock">
  <div class="lock-box">
    <h2>ğŸ” Ã–zel Alan</h2>
    <input id="pass" type="password" placeholder="Åifre giriniz" onkeypress="if(event.key==='Enter')kontrol()">
    <button onclick="kontrol()">GÄ°RÄ°Å YAP</button>
    <div class="lock-error" id="lockErr"></div>
  </div>
</div>

<div id="particles"></div>

<div class="container">
  <div class="header">
    <h1>ğŸ’¨ Osuruk Chaos<br>Of The Ozon TabakasÄ±</h1>
    <div id="mesaj">HazÄ±r mÄ±sÄ±nÄ±z?</div>
  </div>

  <div class="ozon-status">
    <div class="ozon-status-title">ğŸŒ <strong>Ozon Krizi Seviyesi</strong></div>
    <div class="ozon-bar">
      <div class="ozon-fill" id="ozonFill"></div>
    </div>
    <div class="ozon-level" id="ozonLevel">GÃœVEN BÃ–LGESÄ°</div>
  </div>

  <div class="arena">
    <div class="kart" id="kartSol">
      <h3>ğŸ‘¼ TanrÄ±Ã§a</h3>
      ğŸ’¨ <span id="sol" class="sayac">0</span>
      <div class="buttons">
        <button class="btn-osur" onclick="arttirSol()">OSURDUM</button>
        <button class="btn-reset" onclick="resetSol()">â†»</button>
      </div>
      <div class="gif-explosion" id="gifSol">
        <img src="https://media.tenor.com/5Rec-GpCWS8AAAAi/fart-cloud.gif" alt="fart">
      </div>
    </div>

    <div class="kart" id="kartSag">
      <h3>â˜¢ï¸ AyaklÄ± Ã‡ernobil</h3>
      ğŸ’¨ <span id="sag" class="sayac">0</span>
      <div class="buttons">
        <button class="btn-osur" onclick="arttirSag()">OSURDUM</button>
        <button class="btn-reset" onclick="resetSag()">â†»</button>
      </div>
      <div class="gif-explosion" id="gifSag">
        <img src="https://media.tenor.com/5Rec-GpCWS8AAAAi/fart-cloud.gif" alt="fart">
      </div>
    </div>
  </div>
</div>

<!-- ğŸµ SES EFEKTLERÄ° -->
<audio id="osurukSes1" src="https://www.myinstants.com/media/sounds/fart-with-reverb.mp3"></audio>
<audio id="osurukSes2" src="https://www.myinstants.com/media/sounds/wet-fart.mp3"></audio>
<audio id="osurukSes3" src="https://cdn.freesound.org/previews/441/441000_7037-lq.mp3"></audio>

<script>
/* ğŸŒŸ YILDIZ OLUÅTURMA */
function createStars(){
  const container=document.getElementById("stars");
  for(let i=0;i<100;i++){
    const star=document.createElement("div");
    star.className="star";
    star.style.left=Math.random()*100+"%";
    star.style.top=Math.random()*100+"%";
    star.style.width=Math.random()*3+1+"px";
    star.style.height=star.style.width;
    star.style.setProperty("--duration",Math.random()*3+2+"s");
    star.style.animationDelay=Math.random()*3+"s";
    container.appendChild(star);
  }
}

/* ğŸˆ UÃ‡AN EMOJÄ°LER */
function createFloatingEmojis(){
  const container=document.getElementById("floatingEmojis");
  const emojis=["ğŸ’¨","â˜ï¸","â­","âœ¨","ğŸ’«"];
  
  for(let i=0;i<20;i++){
    const emoji=document.createElement("div");
    emoji.className="float-emoji";
    emoji.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    emoji.style.left=Math.random()*100+"%";
    emoji.style.top=Math.random()*100+"%";
    emoji.style.setProperty("--size",Math.random()*30+20+"px");
    emoji.style.setProperty("--duration",Math.random()*5+5+"s");
    emoji.style.setProperty("--glow",`rgba(255,110,199,0.${Math.floor(Math.random()*5+3)})`);
    emoji.style.animationDelay=Math.random()*5+"s";
    container.appendChild(emoji);
  }
}

/* ğŸ” ÅÄ°FRE KONTROLÃœ */
function kontrol(){
  const input=document.getElementById("pass");
  if(input.value==="123"){
    document.getElementById("lock").style.display="none";
    spawnChaos(40);
  }else{
    const err=document.getElementById("lockErr");
    err.innerText="âŒ YanlÄ±ÅŸ ÅŸifre";
    input.value="";
    input.style.animation="shake 0.5s";
    setTimeout(()=>input.style.animation="",500);
  }
}

/* ğŸµ SES Ã‡ALMA */
function playSes(){
  const sesler=[
    document.getElementById("osurukSes1"),
    document.getElementById("osurukSes2"),
    document.getElementById("osurukSes3")
  ];
  const ses=sesler[Math.floor(Math.random()*sesler.length)];
  ses.currentTime=0;
  ses.volume=0.4;
  ses.play().catch(()=>{});
}

/* ğŸŒŒ KAOS PARTIKÃœLLERI */
const emojis=["ğŸ’¨","ğŸ’©","â˜¢ï¸","ğŸ‘¼","â­","ğŸ˜ˆ","ğŸ’€","ğŸŒªï¸","â˜ï¸","ğŸ’«","âœ¨"];
const box=document.getElementById("particles");

function spawnChaos(n=25){
  for(let i=0;i<n;i++){
    const p=document.createElement("div");
    p.className="particle";
    p.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    
    const startX=Math.random()*100;
    const startY=Math.random()*100;
    p.style.left=startX+"vw";
    p.style.top=startY+"vh";
    
    const size=Math.random()*35+25;
    p.style.setProperty("--size",size+"px");
    p.style.setProperty("--time",(2.5+Math.random()*4)+"s");
    p.style.setProperty("--x2",(Math.random()*500-250)+"px");
    p.style.setProperty("--y2",(-250-Math.random()*350)+"px");
    p.style.setProperty("--rot",(Math.random()*1080-540)+"deg");
    
    const glowColors=["rgba(255,110,199,0.8)","rgba(176,102,255,0.8)","rgba(0,255,136,0.6)"];
    p.style.setProperty("--particle-glow",glowColors[Math.floor(Math.random()*glowColors.length)]);
    
    box.appendChild(p);
    setTimeout(()=>p.remove(),7000);
  }
}

/* ğŸ† GIF ANÄ°MASYONU */
function showGif(id){
  const gif=document.getElementById(id);
  gif.classList.add("active");
  setTimeout(()=>gif.classList.remove("active"),800);
}

/* ğŸ“Š OZON STATUS GÃœNCELLEME */
function updateOzon(total){
  const fill=document.getElementById("ozonFill");
  const level=document.getElementById("ozonLevel");
  
  const percent=Math.min(total*1.5,100);
  fill.style.width=percent+"%";
  
  if(total<10){
    level.innerText="GÃœVEN BÃ–LGESÄ°";
    level.style.color="var(--green)";
    level.style.setProperty("--level-glow","var(--green)");
    fill.style.background="linear-gradient(90deg,var(--green),#00ff88)";
    fill.style.setProperty("--fill-glow","var(--green)");
  }else if(total<25){
    level.innerText="âš ï¸ ARTIÅTA";
    level.style.color="var(--yellow)";
    level.style.setProperty("--level-glow","var(--yellow)");
    fill.style.background="linear-gradient(90deg,var(--green),var(--yellow))";
    fill.style.setProperty("--fill-glow","var(--yellow)");
  }else if(total<50){
    level.innerText="ğŸ”¥ KRÄ°TÄ°K SEVÄ°YE";
    level.style.color="var(--orange)";
    level.style.setProperty("--level-glow","var(--orange)");
    fill.style.background="linear-gradient(90deg,var(--yellow),var(--orange))";
    fill.style.setProperty("--fill-glow","var(--orange)");
  }else{
    level.innerText="ğŸ’€ OZON YIKIMI";
    level.style.color="var(--pink)";
    level.style.setProperty("--level-glow","var(--pink)");
    fill.style.background="linear-gradient(90deg,var(--orange),var(--pink),var(--purple))";
    fill.style.setProperty("--fill-glow","var(--pink)");
  }
}

/* ğŸ† LÄ°DER BELÄ°RLEME */
function updateLeader(solVal,sagVal){
  const kartSol=document.getElementById("kartSol");
  const kartSag=document.getElementById("kartSag");
  
  kartSol.classList.remove("winner");
  kartSag.classList.remove("winner");
  
  const crownSol=kartSol.querySelector(".crown");
  const crownSag=kartSag.querySelector(".crown");
  if(crownSol)crownSol.remove();
  if(crownSag)crownSag.remove();
  
  if(solVal>sagVal&&solVal>0){
    kartSol.classList.add("winner");
    const crown=document.createElement("div");
    crown.className="crown";
    crown.innerText="ğŸ‘‘";
    kartSol.appendChild(crown);
  }else if(sagVal>solVal&&sagVal>0){
    kartSag.classList.add("winner");
    const crown=document.createElement("div");
    crown.className="crown";
    crown.innerText="ğŸ‘‘";
    kartSag.appendChild(crown);
  }
}

/* ğŸ’¬ MESAJ SÄ°STEMÄ° */
const mesajlar={
  basla:["HazÄ±r mÄ±sÄ±nÄ±z?","Oyun baÅŸlasÄ±n!","Kim kazanacak?","Hadi bakalÄ±m!"],
  dusuk:["HenÃ¼z tehlike yok","Ozon tabakasÄ± gÃ¼vende","Ä°yi gidiyorsunuz","Devam edin!"],
  orta:["âš ï¸ Dikkat!","Ozon tabakasÄ± incelmeye baÅŸladÄ±","HÄ±z kesmeyin!","Tehlike yaklaÅŸÄ±yor!"],
  yuksek:["ğŸ”¥ Rekor geliyor!","Atmosfer yangÄ±n yeri!","DÃ¼nya tehlikede!","Kaos baÅŸladÄ±!"],
  cok:["ğŸ’€ Apocalypse!","Ozon tabakasÄ± yok oldu!","Cehennem kapÄ±larÄ± aÃ§Ä±ldÄ±!","DÃ¼nya sonu!"]
};

function updateMesaj(total){
  const mesaj=document.getElementById("mesaj");
  let liste;
  
  if(total===0)liste=mesajlar.basla;
  else if(total<15)liste=mesajlar.dusuk;
  else if(total<30)liste=mesajlar.orta;
  else if(total<50)liste=mesajlar.yuksek;
  else liste=mesajlar.cok;
  
  mesaj.innerText=liste[Math.floor(Math.random()*liste.length)];
}

/* ğŸ”¥ FÄ°REBASE SYNC */
let solVal=0,sagVal=0;

db.ref().on("value",snapshot=>{
  if(!snapshot.val())return;
  
  solVal=snapshot.val().sol||0;
  sagVal=snapshot.val().sag||0;
  
  document.getElementById("sol").innerText=solVal;
  document.getElementById("sag").innerText=sagVal;
  
  const total=solVal+sagVal;
  updateOzon(total);
  updateMesaj(total);
  updateLeader(solVal,sagVal);
});

/* ğŸ® OYUN FONKSÄ°YONLARI */
function arttirSol(){
  db.ref("sol").transaction(v=>(v||0)+1);
  playSes();
  showGif("gifSol");
  spawnChaos(30);
}

function arttirSag(){
  db.ref("sag").transaction(v=>(v||0)+1);
  playSes();
  showGif("gifSag");
  spawnChaos(30);
}

function resetSol(){
  if(confirm("TanrÄ±Ã§a'nÄ±n skorunu sÄ±fÄ±rlamak istediÄŸinden emin misin?")){
    db.ref("sol").set(0);
  }
}

function resetSag(){
  if(confirm("AyaklÄ± Ã‡ernobil'in skorunu sÄ±fÄ±rlamak istediÄŸinden emin misin?")){
    db.ref("sag").set(0);
  }
}

/* ğŸ¬ BAÅLANGIÃ‡ */
createStars();
createFloatingEmojis();
spawnChaos(30);
updateMesaj(0);

/* ğŸ¹ KLAVYE KISAYOLLARI */
document.addEventListener("keydown",e=>{
  if(document.getElementById("lock").style.display!=="none")return;
  
  if(e.key==="ArrowLeft"||e.key==="a"||e.key==="A"){
    arttirSol();
  }else if(e.key==="ArrowRight"||e.key==="d"||e.key==="D"){
    arttirSag();
  }
});

/* ğŸ“± TOUCH GESTÄ°Ã‡Ä°LER (MOBÄ°LE Ä°Ã‡Ä°N) */
let touchStartY=0;

document.addEventListener("touchstart",e=>{
  touchStartY=e.touches[0].clientY;
},{passive:true});

document.addEventListener("touchmove",e=>{
  // Scrolling iÃ§in engel koyma
},{passive:true});
</script>

</body>
</html>
